/*! skrollr 0.5.14 (2013-04-05) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr | Free to use under terms of MIT license */
/*! contains iScroll  */
/*! iScroll v4.2.4 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org Released under MIT license, http://cubiq.org/license */
(function(o,t){function e(o){return""===l?o:(o=o.charAt(0).toUpperCase()+o.substr(1),l+o)}var r=Math,n=t.createElement("div").style,l=function(){for(var o,t="t,webkitT,MozT,msT,OT".split(","),e=0,r=t.length;r>e;e++)if(o=t[e]+"ransform",o in n)return t[e].substr(0,t[e].length-1);return!1}(),s=l?"-"+l.toLowerCase()+"-":"",a=e("transform"),i=e("transitionProperty"),c=e("transitionDuration"),p=e("transformOrigin"),u=e("transitionTimingFunction"),m=e("transitionDelay"),h=/android/gi.test(navigator.appVersion),d=/iphone|ipad/gi.test(navigator.appVersion),f=/hp-tablet/gi.test(navigator.appVersion),S=e("perspective")in n,b="ontouchstart"in o&&!f,g=l!==!1,x=e("transition")in n,v="onorientationchange"in o?"orientationchange":"resize",y=b?"touchstart":"mousedown",T=b?"touchmove":"mousemove",Y=b?"touchend":"mouseup",w=b?"touchcancel":"mouseup",X=function(){if(l===!1)return!1;var o={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return o[l]}(),_=function(){return o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(o){return setTimeout(o,1)}}(),z=function(){return o.cancelRequestAnimationFrame||o.webkitCancelAnimationFrame||o.webkitCancelRequestAnimationFrame||o.mozCancelRequestAnimationFrame||o.oCancelRequestAnimationFrame||o.msCancelRequestAnimationFrame||clearTimeout}(),M=S?" translateZ(0)":"",E=function(e,r){var n,l=this;l.wrapper="object"==typeof e?e:t.getElementById(e),l.wrapper.style.overflow="hidden",l.scroller=l.wrapper.children[0],l.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:h,hideScrollbar:d,fadeScrollbar:d&&S,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(o){o.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(n in r)l.options[n]=r[n];l.x=l.options.x,l.y=l.options.y,l.options.useTransform=g&&l.options.useTransform,l.options.hScrollbar=l.options.hScroll&&l.options.hScrollbar,l.options.vScrollbar=l.options.vScroll&&l.options.vScrollbar,l.options.zoom=l.options.useTransform&&l.options.zoom,l.options.useTransition=x&&l.options.useTransition,l.options.zoom&&h&&(M=""),l.scroller.style[i]=l.options.useTransform?s+"transform":"top left",l.scroller.style[c]="0",l.scroller.style[p]="0 0",l.options.useTransition&&(l.scroller.style[u]="cubic-bezier(0.33,0.66,0.66,1)"),l.options.useTransform?l.scroller.style[a]="translate("+l.x+"px,"+l.y+"px)"+M:l.scroller.style.cssText+=";position:absolute;top:"+l.y+"px;left:"+l.x+"px",l.options.useTransition&&(l.options.fixedScrollbar=!0),l.refresh(),l._bind(v,o),l._bind(y),b||"none"!=l.options.wheelAction&&(l._bind("DOMMouseScroll"),l._bind("mousewheel")),l.options.checkDOMChanges&&(l.checkDOMTime=setInterval(function(){l._checkDOMChanges()},500))};E.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(o){var t=this;switch(o.type){case y:if(!b&&0!==o.button)return;t._start(o);break;case T:t._move(o);break;case Y:case w:t._end(o);break;case v:t._resize();break;case"DOMMouseScroll":case"mousewheel":t._wheel(o);break;case X:t._transitionEnd(o)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(o){var e,n=this;return n[o+"Scrollbar"]?(n[o+"ScrollbarWrapper"]||(e=t.createElement("div"),n.options.scrollbarClass?e.className=n.options.scrollbarClass+o.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+("h"==o?"height:7px;bottom:1px;left:2px;right:"+(n.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(n.hScrollbar?"7":"2")+"px;top:2px;right:1px"),e.style.cssText+=";pointer-events:none;"+s+"transition-property:opacity;"+s+"transition-duration:"+(n.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(n.options.hideScrollbar?"0":"1"),n.wrapper.appendChild(e),n[o+"ScrollbarWrapper"]=e,e=t.createElement("div"),n.options.scrollbarClass||(e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+s+"background-clip:padding-box;"+s+"box-sizing:border-box;"+("h"==o?"height:100%":"width:100%")+";"+s+"border-radius:3px;border-radius:3px"),e.style.cssText+=";pointer-events:none;"+s+"transition-property:"+s+"transform;"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+s+"transition-duration:0;"+s+"transform: translate(0,0)"+M,n.options.useTransition&&(e.style.cssText+=";"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),n[o+"ScrollbarWrapper"].appendChild(e),n[o+"ScrollbarIndicator"]=e),"h"==o?(n.hScrollbarSize=n.hScrollbarWrapper.clientWidth,n.hScrollbarIndicatorSize=r.max(r.round(n.hScrollbarSize*n.hScrollbarSize/n.scrollerW),8),n.hScrollbarIndicator.style.width=n.hScrollbarIndicatorSize+"px",n.hScrollbarMaxScroll=n.hScrollbarSize-n.hScrollbarIndicatorSize,n.hScrollbarProp=n.hScrollbarMaxScroll/n.maxScrollX):(n.vScrollbarSize=n.vScrollbarWrapper.clientHeight,n.vScrollbarIndicatorSize=r.max(r.round(n.vScrollbarSize*n.vScrollbarSize/n.scrollerH),8),n.vScrollbarIndicator.style.height=n.vScrollbarIndicatorSize+"px",n.vScrollbarMaxScroll=n.vScrollbarSize-n.vScrollbarIndicatorSize,n.vScrollbarProp=n.vScrollbarMaxScroll/n.maxScrollY),n._scrollbarPos(o,!0),void 0):(n[o+"ScrollbarWrapper"]&&(g&&(n[o+"ScrollbarIndicator"].style[a]=""),n[o+"ScrollbarWrapper"].parentNode.removeChild(n[o+"ScrollbarWrapper"]),n[o+"ScrollbarWrapper"]=null,n[o+"ScrollbarIndicator"]=null),void 0)},_resize:function(){var o=this;setTimeout(function(){o.refresh()},h?200:0)},_pos:function(o,t){this.zoomed||(o=this.hScroll?o:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[a]="translate("+o+"px,"+t+"px) scale("+this.scale+")"+M:(o=r.round(o),t=r.round(t),this.scroller.style.left=o+"px",this.scroller.style.top=t+"px"),this.x=o,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(o,t){var e,n=this,l="h"==o?n.x:n.y;n[o+"Scrollbar"]&&(l=n[o+"ScrollbarProp"]*l,0>l?(n.options.fixedScrollbar||(e=n[o+"ScrollbarIndicatorSize"]+r.round(3*l),8>e&&(e=8),n[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=e+"px"),l=0):l>n[o+"ScrollbarMaxScroll"]&&(n.options.fixedScrollbar?l=n[o+"ScrollbarMaxScroll"]:(e=n[o+"ScrollbarIndicatorSize"]-r.round(3*(l-n[o+"ScrollbarMaxScroll"])),8>e&&(e=8),n[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=e+"px",l=n[o+"ScrollbarMaxScroll"]+(n[o+"ScrollbarIndicatorSize"]-e))),n[o+"ScrollbarWrapper"].style[m]="0",n[o+"ScrollbarWrapper"].style.opacity=t&&n.options.hideScrollbar?"0":"1",n[o+"ScrollbarIndicator"].style[a]="translate("+("h"==o?l+"px,0)":"0,"+l+"px)")+M)},_start:function(t){var e,n,l,s,i,c=this,p=b?t.touches[0]:t;c.enabled&&(c.options.onBeforeScrollStart&&c.options.onBeforeScrollStart.call(c,t),(c.options.useTransition||c.options.zoom)&&c._transitionTime(0),c.moved=!1,c.animating=!1,c.zoomed=!1,c.distX=0,c.distY=0,c.absDistX=0,c.absDistY=0,c.dirX=0,c.dirY=0,c.options.zoom&&b&&t.touches.length>1&&(s=r.abs(t.touches[0].pageX-t.touches[1].pageX),i=r.abs(t.touches[0].pageY-t.touches[1].pageY),c.touchesDistStart=r.sqrt(s*s+i*i),c.originX=r.abs(t.touches[0].pageX+t.touches[1].pageX-2*c.wrapperOffsetLeft)/2-c.x,c.originY=r.abs(t.touches[0].pageY+t.touches[1].pageY-2*c.wrapperOffsetTop)/2-c.y,c.options.onZoomStart&&c.options.onZoomStart.call(c,t)),c.options.momentum&&(c.options.useTransform?(e=getComputedStyle(c.scroller,null)[a].replace(/[^0-9\-.,]/g,"").split(","),n=+e[4],l=+e[5]):(n=+getComputedStyle(c.scroller,null).left.replace(/[^0-9-]/g,""),l=+getComputedStyle(c.scroller,null).top.replace(/[^0-9-]/g,"")),(n!=c.x||l!=c.y)&&(c.options.useTransition?c._unbind(X):z(c.aniTime),c.steps=[],c._pos(n,l),c.options.onScrollEnd&&c.options.onScrollEnd.call(c))),c.absStartX=c.x,c.absStartY=c.y,c.startX=c.x,c.startY=c.y,c.pointX=p.pageX,c.pointY=p.pageY,c.startTime=t.timeStamp||Date.now(),c.options.onScrollStart&&c.options.onScrollStart.call(c,t),c._bind(T,o),c._bind(Y,o),c._bind(w,o))},_move:function(o){var t,e,n,l=this,s=b?o.touches[0]:o,i=s.pageX-l.pointX,c=s.pageY-l.pointY,p=l.x+i,u=l.y+c,m=o.timeStamp||Date.now();return l.options.onBeforeScrollMove&&l.options.onBeforeScrollMove.call(l,o),l.options.zoom&&b&&o.touches.length>1?(t=r.abs(o.touches[0].pageX-o.touches[1].pageX),e=r.abs(o.touches[0].pageY-o.touches[1].pageY),l.touchesDist=r.sqrt(t*t+e*e),l.zoomed=!0,n=1/l.touchesDistStart*l.touchesDist*this.scale,l.options.zoomMin>n?n=.5*l.options.zoomMin*Math.pow(2,n/l.options.zoomMin):n>l.options.zoomMax&&(n=2*l.options.zoomMax*Math.pow(.5,l.options.zoomMax/n)),l.lastScale=n/this.scale,p=this.originX-this.originX*l.lastScale+this.x,u=this.originY-this.originY*l.lastScale+this.y,this.scroller.style[a]="translate("+p+"px,"+u+"px) scale("+n+")"+M,l.options.onZoom&&l.options.onZoom.call(l,o),void 0):(l.pointX=s.pageX,l.pointY=s.pageY,(p>0||l.maxScrollX>p)&&(p=l.options.bounce?l.x+i/2:p>=0||l.maxScrollX>=0?0:l.maxScrollX),(u>l.minScrollY||l.maxScrollY>u)&&(u=l.options.bounce?l.y+c/2:u>=l.minScrollY||l.maxScrollY>=0?l.minScrollY:l.maxScrollY),l.distX+=i,l.distY+=c,l.absDistX=r.abs(l.distX),l.absDistY=r.abs(l.distY),6>l.absDistX&&6>l.absDistY||(l.options.lockDirection&&(l.absDistX>l.absDistY+5?(u=l.y,c=0):l.absDistY>l.absDistX+5&&(p=l.x,i=0)),l.moved=!0,l._pos(p,u),l.dirX=i>0?-1:0>i?1:0,l.dirY=c>0?-1:0>c?1:0,m-l.startTime>300&&(l.startTime=m,l.startX=l.x,l.startY=l.y),l.options.onScrollMove&&l.options.onScrollMove.call(l,o)),void 0)},_end:function(e){if(!b||0===e.touches.length){var n,l,s,i,p,u,m,h=this,d=b?e.changedTouches[0]:e,f={dist:0,time:0},S={dist:0,time:0},g=(e.timeStamp||Date.now())-h.startTime,x=h.x,v=h.y;if(h._unbind(T,o),h._unbind(Y,o),h._unbind(w,o),h.options.onBeforeScrollEnd&&h.options.onBeforeScrollEnd.call(h,e),h.zoomed)return m=h.scale*h.lastScale,m=Math.max(h.options.zoomMin,m),m=Math.min(h.options.zoomMax,m),h.lastScale=m/h.scale,h.scale=m,h.x=h.originX-h.originX*h.lastScale+h.x,h.y=h.originY-h.originY*h.lastScale+h.y,h.scroller.style[c]="200ms",h.scroller.style[a]="translate("+h.x+"px,"+h.y+"px) scale("+h.scale+")"+M,h.zoomed=!1,h.refresh(),h.options.onZoomEnd&&h.options.onZoomEnd.call(h,e),void 0;if(!h.moved)return b&&(h.doubleTapTimer&&h.options.zoom?(clearTimeout(h.doubleTapTimer),h.doubleTapTimer=null,h.options.onZoomStart&&h.options.onZoomStart.call(h,e),h.zoom(h.pointX,h.pointY,1==h.scale?h.options.doubleTapZoom:1),h.options.onZoomEnd&&setTimeout(function(){h.options.onZoomEnd.call(h,e)},200)):this.options.handleClick&&(h.doubleTapTimer=setTimeout(function(){for(h.doubleTapTimer=null,n=d.target;1!=n.nodeType;)n=n.parentNode;"SELECT"!=n.tagName&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName&&(l=t.createEvent("MouseEvents"),l.initMouseEvent("click",!0,!0,e.view,1,d.screenX,d.screenY,d.clientX,d.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),l._fake=!0,n.dispatchEvent(l))},h.options.zoom?250:0))),h._resetPos(400),h.options.onTouchEnd&&h.options.onTouchEnd.call(h,e),void 0;if(300>g&&h.options.momentum&&(f=x?h._momentum(x-h.startX,g,-h.x,h.scrollerW-h.wrapperW+h.x,h.options.bounce?h.wrapperW:0):f,S=v?h._momentum(v-h.startY,g,-h.y,0>h.maxScrollY?h.scrollerH-h.wrapperH+h.y-h.minScrollY:0,h.options.bounce?h.wrapperH:0):S,x=h.x+f.dist,v=h.y+S.dist,(h.x>0&&x>0||h.x<h.maxScrollX&&h.maxScrollX>x)&&(f={dist:0,time:0}),(h.y>h.minScrollY&&v>h.minScrollY||h.y<h.maxScrollY&&h.maxScrollY>v)&&(S={dist:0,time:0})),f.dist||S.dist)return p=r.max(r.max(f.time,S.time),10),h.options.snap&&(s=x-h.absStartX,i=v-h.absStartY,r.abs(s)<h.options.snapThreshold&&r.abs(i)<h.options.snapThreshold?h.scrollTo(h.absStartX,h.absStartY,200):(u=h._snap(x,v),x=u.x,v=u.y,p=r.max(u.time,p))),h.scrollTo(r.round(x),r.round(v),p),h.options.onTouchEnd&&h.options.onTouchEnd.call(h,e),void 0;if(h.options.snap)return s=x-h.absStartX,i=v-h.absStartY,r.abs(s)<h.options.snapThreshold&&r.abs(i)<h.options.snapThreshold?h.scrollTo(h.absStartX,h.absStartY,200):(u=h._snap(h.x,h.y),(u.x!=h.x||u.y!=h.y)&&h.scrollTo(u.x,u.y,u.time)),h.options.onTouchEnd&&h.options.onTouchEnd.call(h,e),void 0;h._resetPos(200),h.options.onTouchEnd&&h.options.onTouchEnd.call(h,e)}},_resetPos:function(o){var t=this,e=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,r=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;return e==t.x&&r==t.y?(t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&("webkit"==l&&(t.hScrollbarWrapper.style[m]="300ms"),t.hScrollbarWrapper.style.opacity="0"),t.vScrollbar&&t.options.hideScrollbar&&("webkit"==l&&(t.vScrollbarWrapper.style[m]="300ms"),t.vScrollbarWrapper.style.opacity="0"),void 0):(t.scrollTo(e,r,o||0),void 0)},_wheel:function(o){var t,e,r,n,l,s=this;if("wheelDeltaX"in o)t=o.wheelDeltaX/12,e=o.wheelDeltaY/12;else if("wheelDelta"in o)t=e=o.wheelDelta/12;else{if(!("detail"in o))return;t=e=3*-o.detail}return"zoom"==s.options.wheelAction?(l=s.scale*Math.pow(2,1/3*(e?e/Math.abs(e):0)),s.options.zoomMin>l&&(l=s.options.zoomMin),l>s.options.zoomMax&&(l=s.options.zoomMax),l!=s.scale&&(!s.wheelZoomCount&&s.options.onZoomStart&&s.options.onZoomStart.call(s,o),s.wheelZoomCount++,s.zoom(o.pageX,o.pageY,l,400),setTimeout(function(){s.wheelZoomCount--,!s.wheelZoomCount&&s.options.onZoomEnd&&s.options.onZoomEnd.call(s,o)},400)),void 0):(r=s.x+t,n=s.y+e,r>0?r=0:s.maxScrollX>r&&(r=s.maxScrollX),n>s.minScrollY?n=s.minScrollY:s.maxScrollY>n&&(n=s.maxScrollY),0>s.maxScrollY&&s.scrollTo(r,n,0),void 0)},_transitionEnd:function(o){var t=this;o.target==t.scroller&&(t._unbind(X),t._startAni())},_startAni:function(){var o,t,e,n=this,l=n.x,s=n.y,a=Date.now();if(!n.animating){if(!n.steps.length)return n._resetPos(400),void 0;if(o=n.steps.shift(),o.x==l&&o.y==s&&(o.time=0),n.animating=!0,n.moved=!0,n.options.useTransition)return n._transitionTime(o.time),n._pos(o.x,o.y),n.animating=!1,o.time?n._bind(X):n._resetPos(0),void 0;e=function(){var i,c,p=Date.now();return p>=a+o.time?(n._pos(o.x,o.y),n.animating=!1,n.options.onAnimationEnd&&n.options.onAnimationEnd.call(n),n._startAni(),void 0):(p=(p-a)/o.time-1,t=r.sqrt(1-p*p),i=(o.x-l)*t+l,c=(o.y-s)*t+s,n._pos(i,c),n.animating&&(n.aniTime=_(e)),void 0)},e()}},_transitionTime:function(o){o+="ms",this.scroller.style[c]=o,this.hScrollbar&&(this.hScrollbarIndicator.style[c]=o),this.vScrollbar&&(this.vScrollbarIndicator.style[c]=o)},_momentum:function(o,t,e,n,l){var s=6e-4,a=r.abs(o)/t,i=a*a/(2*s),c=0,p=0;return o>0&&i>e?(p=l/(6/(i/a*s)),e+=p,a=a*e/i,i=e):0>o&&i>n&&(p=l/(6/(i/a*s)),n+=p,a=a*n/i,i=n),i*=0>o?-1:1,c=a/s,{dist:i,time:r.round(c)}},_offset:function(o){for(var t=-o.offsetLeft,e=-o.offsetTop;o=o.offsetParent;)t-=o.offsetLeft,e-=o.offsetTop;return o!=this.wrapper&&(t*=this.scale,e*=this.scale),{left:t,top:e}},_snap:function(o,t){var e,n,l,s,a,i,c=this;for(l=c.pagesX.length-1,e=0,n=c.pagesX.length;n>e;e++)if(o>=c.pagesX[e]){l=e;break}for(l==c.currPageX&&l>0&&0>c.dirX&&l--,o=c.pagesX[l],a=r.abs(o-c.pagesX[c.currPageX]),a=a?500*(r.abs(c.x-o)/a):0,c.currPageX=l,l=c.pagesY.length-1,e=0;l>e;e++)if(t>=c.pagesY[e]){l=e;break}return l==c.currPageY&&l>0&&0>c.dirY&&l--,t=c.pagesY[l],i=r.abs(t-c.pagesY[c.currPageY]),i=i?500*(r.abs(c.y-t)/i):0,c.currPageY=l,s=r.round(r.max(a,i))||200,{x:o,y:t,time:s}},_bind:function(o,t,e){(t||this.scroller).addEventListener(o,this,!!e)},_unbind:function(o,t,e){(t||this.scroller).removeEventListener(o,this,!!e)},destroy:function(){var t=this;t.scroller.style[a]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(v,o),t._unbind(y),t._unbind(T,o),t._unbind(Y,o),t._unbind(w,o),t.options.hasTouch||(t._unbind("DOMMouseScroll"),t._unbind("mousewheel")),t.options.useTransition&&t._unbind(X),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var o,t,e,n,l=this,s=0,a=0;if(l.scale<l.options.zoomMin&&(l.scale=l.options.zoomMin),l.wrapperW=l.wrapper.clientWidth||1,l.wrapperH=l.wrapper.clientHeight||1,l.minScrollY=-l.options.topOffset||0,l.scrollerW=r.round(l.scroller.offsetWidth*l.scale),l.scrollerH=r.round((l.scroller.offsetHeight+l.minScrollY)*l.scale),l.maxScrollX=l.wrapperW-l.scrollerW,l.maxScrollY=l.wrapperH-l.scrollerH+l.minScrollY,l.dirX=0,l.dirY=0,l.options.onRefresh&&l.options.onRefresh.call(l),l.hScroll=l.options.hScroll&&0>l.maxScrollX,l.vScroll=l.options.vScroll&&(!l.options.bounceLock&&!l.hScroll||l.scrollerH>l.wrapperH),l.hScrollbar=l.hScroll&&l.options.hScrollbar,l.vScrollbar=l.vScroll&&l.options.vScrollbar&&l.scrollerH>l.wrapperH,o=l._offset(l.wrapper),l.wrapperOffsetLeft=-o.left,l.wrapperOffsetTop=-o.top,"string"==typeof l.options.snap)for(l.pagesX=[],l.pagesY=[],n=l.scroller.querySelectorAll(l.options.snap),t=0,e=n.length;e>t;t++)s=l._offset(n[t]),s.left+=l.wrapperOffsetLeft,s.top+=l.wrapperOffsetTop,l.pagesX[t]=s.left<l.maxScrollX?l.maxScrollX:s.left*l.scale,l.pagesY[t]=s.top<l.maxScrollY?l.maxScrollY:s.top*l.scale;else if(l.options.snap){for(l.pagesX=[];s>=l.maxScrollX;)l.pagesX[a]=s,s-=l.wrapperW,a++;for(l.maxScrollX%l.wrapperW&&(l.pagesX[l.pagesX.length]=l.maxScrollX-l.pagesX[l.pagesX.length-1]+l.pagesX[l.pagesX.length-1]),s=0,a=0,l.pagesY=[];s>=l.maxScrollY;)l.pagesY[a]=s,s-=l.wrapperH,a++;l.maxScrollY%l.wrapperH&&(l.pagesY[l.pagesY.length]=l.maxScrollY-l.pagesY[l.pagesY.length-1]+l.pagesY[l.pagesY.length-1])}l._scrollbar("h"),l._scrollbar("v"),l.zoomed||(l.scroller.style[c]="0",l._resetPos(400))},scrollTo:function(o,t,e,r){var n,l,s=this,a=o;for(s.stop(),a.length||(a=[{x:o,y:t,time:e,relative:r}]),n=0,l=a.length;l>n;n++)a[n].relative&&(a[n].x=s.x-a[n].x,a[n].y=s.y-a[n].y),s.steps.push({x:a[n].x,y:a[n].y,time:a[n].time||0});s._startAni()},scrollToElement:function(o,t){var e,n=this;o=o.nodeType?o:n.scroller.querySelector(o),o&&(e=n._offset(o),e.left+=n.wrapperOffsetLeft,e.top+=n.wrapperOffsetTop,e.left=e.left>0?0:e.left<n.maxScrollX?n.maxScrollX:e.left,e.top=e.top>n.minScrollY?n.minScrollY:e.top<n.maxScrollY?n.maxScrollY:e.top,t=void 0===t?r.max(2*r.abs(e.left),2*r.abs(e.top)):t,n.scrollTo(e.left,e.top,t))},scrollToPage:function(o,t,e){var r,n,l=this;e=void 0===e?400:e,l.options.onScrollStart&&l.options.onScrollStart.call(l),l.options.snap?(o="next"==o?l.currPageX+1:"prev"==o?l.currPageX-1:o,t="next"==t?l.currPageY+1:"prev"==t?l.currPageY-1:t,o=0>o?0:o>l.pagesX.length-1?l.pagesX.length-1:o,t=0>t?0:t>l.pagesY.length-1?l.pagesY.length-1:t,l.currPageX=o,l.currPageY=t,r=l.pagesX[o],n=l.pagesY[t]):(r=-l.wrapperW*o,n=-l.wrapperH*t,l.maxScrollX>r&&(r=l.maxScrollX),l.maxScrollY>n&&(n=l.maxScrollY)),l.scrollTo(r,n,e)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(T,o),this._unbind(Y,o),this._unbind(w,o)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(X):z(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(o,t,e,r){var n=this,l=e/n.scale;n.options.useTransform&&(n.zoomed=!0,r=void 0===r?200:r,o=o-n.wrapperOffsetLeft-n.x,t=t-n.wrapperOffsetTop-n.y,n.x=o-o*l+n.x,n.y=t-t*l+n.y,n.scale=e,n.refresh(),n.x=n.x>0?0:n.x<n.maxScrollX?n.maxScrollX:n.x,n.y=n.y>n.minScrollY?n.minScrollY:n.y<n.maxScrollY?n.maxScrollY:n.y,n.scroller.style[c]=r+"ms",n.scroller.style[a]="translate("+n.x+"px,"+n.y+"px) scale("+e+")"+M,n.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},n=null,"undefined"!=typeof exports?exports.iScroll=E:o.iScroll=E})(window,document),function(o,t){t.addEventListener("touchmove",function(o){o.preventDefault()},!1),t.addEventListener("DOMContentLoaded",function(){o.setTimeout(function(){var e=t.getElementById("skrollr-body");if(!e)throw"For mobile support skrollr needs a #skrollr-body element";e.style.cssText+="position:absolute;width:100%;",t.body.style.cssText+="position:absolute;left:0;top:0;bottom:0;width:100%;padding:0;margin:0;",skrollr.iscroll=new iScroll(t.body,{bounce:!1,useTransform:!1,onBeforeScrollStart:function(o){for(var t=o.target;1!=t.nodeType;)t=t.parentNode;/(select|input|textarea)/i.test(t.tagName)||o.preventDefault()}}),t.documentElement.className+=" skrollr-mobile",o.scroll(0,0)},200)},!1)}(window,document);